!function(t){function i(r){if(n[r])return n[r].exports;var s=n[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}var n={};i.m=t,i.c=n,i.d=function(t,n,r){i.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},i.n=function(t){var n=t&&t.t?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=6)}([function(t,i,n){"use strict";function r(t){return Math.max.apply(null,t)}function s(t){return Math.min.apply(null,t)}var u=0;t.exports={inherits:function(t,i){t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},assign:function(t){for(var i=Object(t),n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach(function(t){if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}),i},arrayMax:r,arrayMin:s,average:function(t){return t.reduce(function(t,i){return i+t},0)/t.length},callIfExists:function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];t&&t.apply(void 0,n)},counter:function(){return u+=1},emptyFunc:function(){},getExtremes:function(t){var i=r(t),n=s(t);return[i,(i+n)/2,n]},timeout:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(i,n){setTimeout(i,t)})}}},function(t,i,n){"use strict";var r=function(){function t(t,i){var n=[],r=!0,s=!1,u=void 0;try{for(var h,o=t[Symbol.iterator]();!(r=(h=o.next()).done)&&(n.push(h.value),!i||n.length!==i);r=!0);}catch(t){s=!0,u=t}finally{try{!r&&o.return&&o.return()}finally{if(s)throw u}}return n}return function(i,n){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return t(i,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(2),u=n(0),h=u.arrayMin,o=u.arrayMax,e=function(t){var i=t.map(function(t){return t.x}),n=t.map(function(t){return t.y}),r=o(i),u=o(n),e=h(i),c=h(n);return[new s(e,c),new s(r,u)]};t.exports={extendPointOnLine:function(t,i,n){var r=i.subtract(t),u=n/r.getMagnitude();return new s(i.x+u*r.x,i.y+u*r.y)},getBounds:e,getOverallBounds:function(t){var i=[];return t.forEach(function(t){var n=t.getBounds(),s=r(n,2),u=s[0],h=s[1];i.push(u),i.push(h)}),e(i)},getDistance:function(t,i){return t.subtract(i).getMagnitude()},cosineSimilarity:function(t,i){return(t.x*i.x+t.y*i.y)/t.getMagnitude()/i.getMagnitude()}}},function(t,i,n){"use strict";function r(t,i){this.x=parseFloat(t,10),this.y=parseFloat(i,10)}r.prototype.subtract=function(t){return new r(this.x-t.x,this.y-t.y)},r.prototype.add=function(t){return new r(this.x+t.x,this.y+t.y)},r.prototype.getMagnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},r.prototype.equals=function(t){return!!t&&(t.x===this.x&&t.y===this.y)},t.exports=r},function(t,i,n){"use strict";function r(){this.isDestroyed=!1,this.childRenderers=[],this.parentRenderer=null}r.prototype.draw=function(){return this},r.prototype.registerChild=function(t){return this.childRenderers.push(t),t.setParent(this),t},r.prototype.setParent=function(t){return this.parentRenderer=t,this},r.prototype.setCanvas=function(t){return this.canvas=t,this},r.prototype.destroy=function(){this.isDestroyed=!0,this.childRenderers.forEach(function(t){return t.destroy()})},t.exports=r},function(t,i,n){"use strict";(function(i){function r(t){return i.document.createElementNS("http://www.w3.org/2000/svg",t)}function s(t,i,n){t.setAttributeNS(null,i,n)}function u(t,i){Object.keys(i).forEach(function(n){return s(t,n,i[n])})}function h(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.r=t,this.u=i.duration||300,this.h=!1}function o(t,i,n){var r=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o.super_.call(this,function(t){var i=(r.e-r.f)*t+r.f;r.a.style[r.v]=i},s),this.a=t,this.v=i,this.e=n}function e(t,i){this.svg=t,this.defs=i}var c=n(0).inherits,f=i.performance&&function(){return i.performance.now()}||function(){return Date.now()},a=i.requestAnimationFrame||function(t){return setTimeout(function(){return t(f())},1e3/60)},v=i.cancelAnimationFrame||clearTimeout,l=function(t){return-Math.cos(t*Math.PI)/2+.5};h.prototype.start=function(){var t=this;return this.h=!0,this.w=f(),this.k=0,this.g(),new Promise(function(i,n){t.M=i})},h.prototype.g=function(){var t=this;this.b=a(function(i){return t.S(i)})},h.prototype.S=function(t){if(this.h){var i=Math.min(1,(t-this.w)/this.u);if(i===this.k)return this.g();this.k=i;var n=l(i);this.r(n),1===i?(this.b=null,this.finish()):this.g()}},h.prototype.finish=function(){this.h&&(this.h=!1,this.b&&v(this.b),this.M&&(this.M(),this.M=null))},c(o,h),o.prototype.start=function(){return this.f=parseFloat(this.a.style[this.v],10),this.f===this.e?Promise.resolve():o.super_.prototype.start.call(this)},e.prototype.createSubCanvas=function(){var t=r("g");return this.svg.appendChild(t),new e(t,this.defs)},e.init=function(t){var n=void 0,s=t;"string"==typeof t&&(s=i.document.getElementById(t));var h=s.nodeName.toUpperCase();"SVG"===h||"G"===h?n=s:(n=r("svg"),s.appendChild(n)),u(n,{width:"100%",height:"100%"});var o=r("defs");return n.appendChild(o),new e(n,o)},t.exports={createElm:r,attrs:u,attr:s,Canvas:e,Tween:h,StyleTween:o,getPathString:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t[0],r=t.slice(1),s="M "+n.x+" "+n.y;return r.forEach(function(t){s+=" L "+t.x+" "+t.y}),i&&(s+="Z"),s}}}).call(i,n(5))},function(t,i){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,i,n){"use strict";(function(i){function r(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.O=new v,this.P=f.Canvas.init(t,n),this.setOptions(n),this.setCharacter(i),this.j(),this.D=null}var s=n(7),u=n(9),h=n(2),o=n(10),e=n(13),c=n(14),f=n(4),a=n(18),v=n(19),l=n(0).assign,d={charDataLoader:a,showOutline:!0,showCharacter:!0,width:null,height:null,padding:20,strokeAnimationDuration:400,strokeHighlightDuration:200,delayBetweenStrokes:1e3,strokeColor:"#555",highlightColor:"#AAF",outlineColor:"#DDD",drawingColor:"#333",showHintAfterMisses:3,highlightOnComplete:!0,drawingFadeDuration:300,drawingWidth:4,strokeWidth:2,outlineWidth:2};if(r.prototype.setOptions=function(t){this.A=l({},d,t),this.C={strokeColor:this.A.strokeColor,strokeWidth:this.A.strokeWidth,strokeAnimationDuration:this.A.strokeAnimationDuration,delayBetweenStrokes:this.A.delayBetweenStrokes,usePolygonMasks:this.A.usePolygonMasks},this.T=l({},this.C,{strokeColor:this.A.outlineColor,strokeWidth:this.A.outlineWidth,usePolygonMasks:this.A.usePolygonMasks}),this.F=l({},this.C,{strokeColor:this.A.highlightColor,strokeAnimationDuration:this.A.strokeHighlightDuration,usePolygonMasks:this.A.usePolygonMasks}),this.U={strokeColor:this.A.drawingColor,strokeWidth:this.A.drawingWidth,fadeDuration:this.A.drawingFadeDuration}},r.prototype.showCharacter=function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.W(function(i){return t.B.show(i)},i)},r.prototype.hideCharacter=function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.W(function(i){return t.B.hide(i)},i)},r.prototype.animateCharacter=function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.cancelQuiz(),this.W(function(i){return t.B.animate(i)},i)},r.prototype.showOutline=function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.W(function(i){return t.R.show(i)},i)},r.prototype.hideOutline=function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.W(function(i){return t.R.hide(i)},i)},r.prototype.quiz=function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.z(function(){t.cancelQuiz(),t.D=new c({canvas:t.G,animator:t.O,character:t.I,characterRenderer:t.B,highlightRenderer:t.L,quizOptions:l({},t.A,i),userStrokeOptions:t.U})})},r.prototype.cancelQuiz=function(){this.D&&this.D.cancel(),this.D=null},r.prototype.setCharacter=function(t){var i=this;this.cancelQuiz(),this.N&&this.N.destroy(),this.B&&this.B.destroy(),this.R&&this.R.destroy(),this.L&&this.L.destroy(),this.H=this.q(t).then(function(n){var r=new o;i.I=r.generateCharacter(t,n),i.J=new e(i.I,i.A),i.N=new u(i.J).setCanvas(i.P),i.G=i.N.positionedCanvas,i.R=new s(i.I,i.T).setCanvas(i.G).draw(),i.B=new s(i.I,i.C).setCanvas(i.G).draw(),i.L=new s(i.I,i.F).setCanvas(i.G).draw(),i.A.showCharacter&&i.B.showImmediate(),i.A.showOutline&&i.R.showImmediate()})},r.prototype.q=function(t){var i=this;return this.isLoadingCharData&&this.cancelLoadingCharData(),this.isLoadingCharData=!0,new Promise(function(n,r){i.cancelLoadingCharData=r;var s=i.A.charDataLoader(t,n);s&&n(s)}).then(function(t){return i.isLoadingCharData=!1,t})},r.prototype.z=function(t){return this.H=this.H.then(t),this.H},r.prototype.j=function(){var t=this;this.P.svg.addEventListener("mousedown",function(i){!t.isLoadingCharData&&t.D&&(i.preventDefault(),t.V("startUserStroke",t.Z(i)))}),this.P.svg.addEventListener("touchstart",function(i){!t.isLoadingCharData&&t.D&&(i.preventDefault(),t.V("startUserStroke",t.K(i)))}),this.P.svg.addEventListener("mousemove",function(i){!t.isLoadingCharData&&t.D&&(i.preventDefault(),t.V("continueUserStroke",t.Z(i)))}),this.P.svg.addEventListener("touchmove",function(i){!t.isLoadingCharData&&t.D&&(i.preventDefault(),t.V("continueUserStroke",t.K(i)))}),i.document.addEventListener("mouseup",function(){return t.V("endUserStroke")}),i.document.addEventListener("touchend",function(){return t.V("endUserStroke")})},r.prototype.V=function(t){var i;if(this.D){for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];(i=this.D)[t].apply(i,r)}},r.prototype.Z=function(t){var i=this.P.svg.getBoundingClientRect();return this.J.convertExternalPoint(new h(t.clientX-i.left,t.clientY-i.top))},r.prototype.K=function(t){var i=this.P.svg.getBoundingClientRect(),n=t.touches[0].clientX-i.left,r=t.touches[0].clientY-i.top;return this.J.convertExternalPoint(new h(n,r))},r.prototype.Q=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.O.animate(t,i)},r.prototype.W=function(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.z(function(){return i.Q(t,n)})},void 0!==i.window){var w=i.window.HanziWriter;r.noConflict=function(){return i.window.HanziWriter=w,r},i.window.HanziWriter=r}t.exports=r}).call(i,n(5))},function(t,i,n){"use strict";function r(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.super_.call(this),this.options=n,this.character=t,this.strokeRenderers=this.character.strokes.map(function(t){return i.registerChild(new u(t,n))})}var s=n(3),u=n(8),h=n(0),o=h.timeout;(0,h.inherits)(r,s),r.prototype.getBounds=function(){return this.character.getBounds()},r.prototype.show=function(t){var i=this.strokeRenderers.map(function(i){return i.show(t)});return Promise.all(i)},r.prototype.showImmediate=function(){this.strokeRenderers.map(function(t){return t.showImmediate()})},r.prototype.hide=function(t){var i=this.strokeRenderers.map(function(i){return i.hide(t)});return Promise.all(i)},r.prototype.hideImmediate=function(){this.strokeRenderers.map(function(t){return t.hideImmediate()})},r.prototype.flash=function(t){var i=this;return this.show(t).then(function(){return i.hide(t)})},r.prototype.showStroke=function(t,i){return this.getStrokeRenderer(t).show(i)},r.prototype.draw=function(){return this.strokeRenderers.forEach(function(t){return t.draw()}),this},r.prototype.getStrokeRenderer=function(t){return this.strokeRenderers[t]},r.prototype.animate=function(t){var i=this;if(!t.isActive())return null;var n=this.hide(t);return this.strokeRenderers.forEach(function(r,s){s>0&&(n=n.then(function(){return o(i.options.delayBetweenStrokes)})),n=n.then(function(){return r.animate(t)})}),n},r.prototype.setCanvas=function(t){return r.super_.prototype.setCanvas.call(this,t),this.strokeRenderers.forEach(function(i){return i.setCanvas(t)}),this},t.exports=r},function(t,i,n){"use strict";function r(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.super_.call(this),this.stroke=t,this.options=i}var s=n(3),u=n(0),h=u.counter,o=u.inherits,e=n(4),c=n(1).extendPointOnLine,f=function(t,i){if(t.length<2)return t;var n=t[1],r=t[0],s=c(n,r,i),u=t.slice(1);return u.unshift(s),u};o(r,s),r.prototype.draw=function(){this.path=e.createElm("path"),this.clip=e.createElm("clipPath"),this.strokeClip=e.createElm("path");var t="hzw-clip-"+h();e.attr(this.clip,"id",t);var i=f(this.stroke.points,85);e.attr(this.path,"d",e.getPathString(i)),this.path.style.opacity=0,e.attr(this.path,"clip-path","url(#"+t+")"),e.attr(this.strokeClip,"d",this.stroke.path);var n=this.strokeClip.getTotalLength();return e.attrs(this.path,{fill:"none",stroke:this.options.strokeColor,"stroke-width":150,"stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":n+","+n}),this.path.style["stroke-dashoffset"]=0,this.clip.appendChild(this.strokeClip),this.canvas.defs.appendChild(this.clip),this.canvas.svg.appendChild(this.path),this},r.prototype.show=function(t){this.path.style["stroke-dashoffset"]=0;var i=new e.StyleTween(this.path,"opacity",1,{duration:this.options.strokeAnimationDuration});return t.registerSvgAnimation(i),i.start()},r.prototype.hide=function(t){var i=new e.StyleTween(this.path,"opacity",0,{duration:this.options.strokeAnimationDuration});return t.registerSvgAnimation(i),i.start()},r.prototype.animate=function(t){if(!t.isActive())return null;this.showImmediate(),this.path.style["stroke-dashoffset"]=.999*this.strokeClip.getTotalLength();var i=new e.StyleTween(this.path,"stroke-dashoffset",0,{duration:this.options.strokeAnimationDuration});return t.registerSvgAnimation(i),i.start()},r.prototype.hideImmediate=function(){this.path.style.opacity=0},r.prototype.showImmediate=function(){this.path.style.opacity=1},r.prototype.highlight=function(t){var i=this;return this.animate(t).then(function(){return i.hide(t)})},r.prototype.destroy=function(){r.super_.prototype.destroy.call(this),this.path&&this.path.remove(),this.strokeClip&&this.strokeClip.remove(),this.clip&&this.clip.remove()},t.exports=r},function(t,i,n){"use strict";function r(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.super_.call(this),this.positioner=t,this.positionedCanvas=null}var s=n(3),u=n(4);(0,n(0).inherits)(r,s),r.prototype.setCanvas=function(t){r.super_.prototype.setCanvas.call(this,t),this.positionedCanvas=t.createSubCanvas();var i=this.positionedCanvas.svg;return u.attr(i,"transform","\n    translate("+this.positioner.getXOffset()+", "+(this.positioner.getHeight()-this.positioner.getYOffset())+")\n    scale("+this.positioner.getScale()+", "+-1*this.positioner.getScale()+")\n  "),this},r.prototype.destroy=function(){r.super_.prototype.destroy.call(this),this.positionedCanvas.remove()},t.exports=r},function(t,i,n){"use strict";function r(){}var s=function(){function t(t,i){var n=[],r=!0,s=!1,u=void 0;try{for(var h,o=t[Symbol.iterator]();!(r=(h=o.next()).done)&&(n.push(h.value),!i||n.length!==i);r=!0);}catch(t){s=!0,u=t}finally{try{!r&&o.return&&o.return()}finally{if(s)throw u}}return n}return function(i,n){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return t(i,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=n(2),h=n(11),o=n(12);r.prototype.generateCharacter=function(t,i){var n=this.generateStrokes(i);return new o(t,n)},r.prototype.generateStrokes=function(t){return t.strokes.map(function(i,n){var r=t.medians[n].map(function(t){var i=s(t,2),n=i[0],r=i[1];return new u(n,r)});return new h(i,r,n)})},t.exports=r},function(t,i,n){"use strict";function r(t,i,n){this.path=t,this.points=i,this.strokeNum=n}var s=n(1).getDistance;r.prototype.getStrokeNum=function(){return this.strokeNum},r.prototype.getStartingPoint=function(){return this.points[0]},r.prototype.getEndingPoint=function(){return this.points[this.points.length-1]},r.prototype.getLength=function(){var t=this.points[0];return this.points.slice(1).reduce(function(i,n){var r=s(n,t);return t=n,i+r},0)},r.prototype.getVectors=function(){var t=this.points[0];return this.points.slice(1).map(function(i){var n=i.subtract(t);return t=i,n})},r.prototype.getDistance=function(t){var i=this.points.map(function(i){return s(i,t)});return Math.min.apply(Math,i)},r.prototype.getAverageDistance=function(t){var i=this;return t.reduce(function(t,n){return t+i.getDistance(n)},0)/t.length},t.exports=r},function(t,i,n){"use strict";function r(t,i){this.symbol=t,this.strokes=i}var s=n(2),u=n(1).getBounds;r.prototype.getStroke=function(t){return this.strokes[t]},r.prototype.getNumStrokes=function(){return this.strokes.length},r.prototype.getBounds=function(){return u([new s(0,900),new s(1024,-124)])},t.exports=r},function(t,i,n){"use strict";function r(t,i){this.I=t,this.A=i,this.X()}var s=n(2);r.prototype.convertExternalPoint=function(t){var i=(t.x-this.Y)/this.$,n=(this.getHeight()-this._-t.y)/this.$;return new s(i,n)},r.prototype.getXOffset=function(){return this.Y},r.prototype.getYOffset=function(){return this._},r.prototype.getScale=function(){return this.$},r.prototype.getHeight=function(){return this.A.height},r.prototype.X=function(){var t=this.I.getBounds(),i=t[1].x-t[0].x,n=t[1].y-t[0].y,r=this.A.width-2*this.A.padding,s=this.A.height-2*this.A.padding,u=r/i,h=s/n;this.$=Math.min(u,h);var o=this.A.padding+(r-this.$*i)/2,e=this.A.padding+(s-this.$*n)/2;this.Y=-1*t[0].x*this.$+o,this._=-1*t[0].y*this.$+e},t.exports=r},function(t,i,n){"use strict";function r(t){var i=t.canvas,n=t.animator,r=t.character,u=t.characterRenderer,h=t.highlightRenderer,o=t.quizOptions,e=t.userStrokeOptions;this.P=i,this.O=n,this.I=r,this.B=u,this.L=h,this.tt=o,this.U=e,this.it=0,this.nt=0,this.rt=0,this.st=[],this.h=!0,this.ut=new s,this.ht()}var s=n(15),u=n(16),h=n(17),o=n(0).callIfExists;r.prototype.startUserStroke=function(t){return this.h?this.ot?this.endUserStroke():(this.ot=new u(t),this.et=new h(this.ot,this.U),void this.et.setCanvas(this.P).draw()):null},r.prototype.continueUserStroke=function(t){this.ot&&(this.ot.appendPoint(t),this.et.updatePath())},r.prototype.endUserStroke=function(){var t=this;if(!this.ot)return Promise.resolve();this.O.animate(function(i){if(!t.h)return Promise.resolve();var n=[],r=t.ct(),s=t.ut.strokeMatches(t.ot,r);return n.push(t.et.fadeAndRemove(i)),t.ot=null,t.et=null,s?t.ft(r,i):(t.at(),t.nt>=t.tt.showHintAfterMisses&&n.push(t.vt(i))),Promise.all(n)})},r.prototype.cancel=function(){this.h=!1},r.prototype.ft=function(t,i){var n=this;o(this.tt.onCorrectStroke,{character:this.I.symbol,strokeNum:this.it,mistakesOnStroke:this.nt,totalMistakes:this.rt,strokesRemaining:this.I.getNumStrokes()-this.it-1}),this.it+=1,this.nt=0;var r=this.lt(t,i);return this.it===this.I.getNumStrokes()&&(this.h=!1,o(this.tt.onComplete,{character:this.I.symbol,totalMistakes:this.rt}),this.tt.highlightOnComplete&&(r=r.then(function(){return n.L.flash(i)}))),r},r.prototype.at=function(){this.nt+=1,this.rt+=1,o(this.tt.onMistake,{character:this.I.symbol,strokeNum:this.it,mistakesOnStroke:this.nt,totalMistakes:this.rt,strokesRemaining:this.I.getNumStrokes()-this.it})},r.prototype.vt=function(t){return this.L.getStrokeRenderer(this.it).highlight(t)},r.prototype.lt=function(t,i){return this.st.push(t),this.B.showStroke(t.strokeNum,i)},r.prototype.ct=function(){return this.I.getStroke(this.it)},r.prototype.ht=function(){var t=this;this.O.animate(function(i){return t.B.hide(i)})},t.exports=r},function(t,i,n){"use strict";function r(){}var s=n(1),u=s.getDistance,h=s.cosineSimilarity,o=n(0).average;r.prototype.strokeMatches=function(t,i){var n=this.dt(t.points);if(n.length<2)return null;var r=i.getAverageDistance(n)<300,s=this.wt(n,i),u=this.kt(n,i);return r&&s&&u},r.prototype.wt=function(t,i){var n=u(i.getStartingPoint(),t[0]),r=u(i.getEndingPoint(),t[t.length-1]);return n<250&&r<250},r.prototype.kt=function(t,i){var n=this.mt(t),r=i.getVectors(),s=n.map(function(t){var i=r.map(function(i){return h(i,t)});return Math.max.apply(Math,i)});return o(s)>0},r.prototype.dt=function(t){if(t.length<2)return t;var i=[t[0]];return t.slice(1).forEach(function(t){t.equals(i[i.length-1])||i.push(t)}),i},r.prototype.gt=function(t){var i=0,n=t[0];return t.forEach(function(t){i+=u(t,n),n=t}),i},r.prototype.mt=function(t){var i=[],n=t[0];return t.slice(1).forEach(function(t){i.push(t.subtract(n)),n=t}),i},t.exports=r},function(t,i,n){"use strict";function r(t){this.points=[t]}var s=n(1).getBounds;r.prototype.getBounds=function(){return s(this.points)},r.prototype.appendPoint=function(t){this.points.push(t)},t.exports=r},function(t,i,n){"use strict";function r(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.super_.call(this),this.options=i,this.userStroke=t}var s=n(3),u=n(0).inherits,h=n(4);u(r,s),r.prototype.getPathString=function(){return h.getPathString(this.userStroke.points)},r.prototype.updatePath=function(){h.attr(this.path,"d",this.getPathString())},r.prototype.draw=function(){return r.super_.prototype.draw.call(this),this.path=h.createElm("path"),h.attrs(this.path,this.getStrokeAttrs()),this.path.style.opacity=1,this.updatePath(),this.canvas.svg.appendChild(this.path),this},r.prototype.fadeAndRemove=function(t){var i=this,n=new h.StyleTween(this.path,"opacity",0,{duration:this.options.fadeDuration});return t.registerSvgAnimation(n),n.start().then(function(){return i.destroy()})},r.prototype.getStrokeAttrs=function(){return{fill:"none",stroke:this.options.strokeColor,"stroke-width":this.options.strokeWidth}},r.prototype.destroy=function(){r.super_.prototype.destroy.call(this),this.path&&this.path.remove()},t.exports=r},function(t,i,n){"use strict";(function(i){var n=function(t){return"https://chanind.github.io/hanzi-writer/cdn/2/data/"+t+".json"};t.exports=function(t,r){var s=new i.XMLHttpRequest;s.overrideMimeType&&s.overrideMimeType("application/json"),s.open("GET",n(t),!0),s.onreadystatechange=function(){4===s.readyState&&200===s.status&&r(JSON.parse(s.responseText))},s.send(null)}}).call(i,n(5))},function(t,i,n){"use strict";function r(){this.yt=null}var s=n(20);r.prototype.animate=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.pt(i);t(n).then(function(){return n.finish()})},r.prototype.pt=function(t){return this.yt&&this.yt.cancel(),this.yt=new s(t),this.yt},t.exports=r},function(t,i,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.Mt=[],this.h=!0,this.bt=t.onComplete}var s=n(0).callIfExists;r.prototype.cancel=function(){this.isActive()&&(this.h=!1,this.Mt.forEach(function(t){return t.finish()}))},r.prototype.registerSvgAnimation=function(t){-1===this.Mt.indexOf(t)&&this.Mt.push(t)},r.prototype.isActive=function(){return this.h},r.prototype.finish=function(){this.isActive()&&(this.h=!1,s(this.bt))},t.exports=r}]);